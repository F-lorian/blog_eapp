{# src/FlorianMasip/BlogBundle/Resources/views/Crud/edit.html.twig #}

{% extends '::base.html.twig' %}

{% block title %}
	{% if url_post is defined %}
        Edition
    {% else %}
        Nouvel article
    {% endif %}
{% endblock %}

{% block content %}

<div id="blog-content">

{% if id_post is defined %}
    <h4 class="page-title">modifier article : {{ url_post }}</h4>
    <form id="edit-form" method="post" target="{{ path('blog_edit_post', {'url_blog': url_blog, 'url_post': url_post }) }}" >
{% else %}
    <h4 class="page-title">Nouvel article</h4>
    <form id="edit-form" method="post" target="{{ path('blog_new_post', {'url_blog': url_blog}) }}" >
{% endif %}

		<div id="blog-post" class="panel panel-default blog-post">
			<div class="panel-heading">
				<div class="row">
					<div class="col-sm-2">
						{{ form_widget(form.category, { 'attr': {'class': 'form-control', 'placeholder': 'cat√©gorie de l\'article'} }) }}
						<span class="label label-danger error">{{ form_errors(form.category) }}</span>
					</div>
					<div class="col-sm-10">
						{{ form_widget(form.name, { 'attr': {'class': 'form-control', 'placeholder': 'titre de l\'article'} }) }}
						<span class="label label-danger error">{{ form_errors(form.name) }}</span>
					</div>
				</div>
			</div>
			<div class="panel-body">

				{{ form_widget(form.urlAlias, { 'attr': {'class': 'form-control', 'placeholder': 'url de l\'article'} }) }}
				<span class="label label-danger error">{{ form_errors(form.urlAlias) }}</span>
				{{ form_widget(form.content, { 'attr': {'class': 'elastic-textarea form-control', 'placeholder': 'article'} }) }}
				{{ form_row(form._token) }}
			</div>
			<br/>
			<span class="label label-danger error">{{ form_errors(form) }}</span>
			<button class="btn btn-primary btn-block">valider <i class="glyphicon glyphicon-ok"></i></button>
		</div><!--/panel-body-->
	</form>

</div>
{% endblock %}
